# **Reconhecimento Web para Pentest**  

O **reconhecimento web** é a fase inicial de um **pentest**, onde o objetivo é coletar o máximo de informações sobre um site ou aplicação web. Essa etapa é essencial para identificar possíveis pontos de entrada e vulnerabilidades antes de um ataque real.  


## **1. Inspeção do Código-Fonte da Página**  
A análise do código-fonte pode revelar:  
- **Comentários** contendo informações sensíveis.  
- **Chaves de API** ou credenciais expostas.  
- **Caminhos de diretórios** internos ou ocultos.  


## **2. Busca por Links Sensíveis**  
- **Painéis de administração** (ex: /admin, /login, /dashboard).  
- **APIs abertas** (ex: /api/v1/).  
- **Arquivos de configuração** (ex: .env, config.php).  
- **Exposição de backups** (ex: backup.zip, db_dump.sql).  


## **3. Descoberta de Diretórios Ocultos**  
A busca por diretórios e arquivos não listados pode revelar áreas críticas da aplicação.  
Ferramentas úteis:  
- **dirb** – Enumeração de diretórios e arquivos.  
- **gobuster** – Similar ao dirb, mas mais rápido.  
- **ffuf** – Scanner de diretórios e parâmetros HTTP.  

O uso do **dirb** com o parâmetro **-v** permite visualizar erros e respostas mais detalhadas.  
No entanto, o Cloudflare pode barrar a requisição. Para contornar isso, é possível passar cookies utilizando os parâmetros **-a** e **-c**.  


## **4. Identificação de Versões e Falhas Conhecidas**  
Saber as versões de tecnologias utilizadas ajuda a encontrar vulnerabilidades conhecidas.  
- **Wappalyzer (Extensão para navegador)** – Identifica as tecnologias e versões usadas pela aplicação.  
- **WhatWeb** – Identifica frameworks, servidores e versões expostas.  
- **CMSmap** – Identifica vulnerabilidades específicas em CMS como WordPress, Joomla e Drupal.  


## **5. Descoberta de Parâmetros de URL**  
Alterar valores em parâmetros de URL pode revelar vulnerabilidades como **SQL Injection** e **XSS**.  
- Testar diferentes entradas para verificar respostas inesperadas.  
- Manipular parâmetros para tentar acesso a áreas restritas.  


## **6. Uso de Google Dorks**  
O **Google Dorking** é uma técnica avançada de busca para encontrar informações sensíveis expostas na web.  
Comandos úteis incluem:  
- **site:alvo.com** – Lista todas as páginas indexadas de um domínio.  
- **intitle:"index of" site:alvo.com** – Procura diretórios listados publicamente.  
- **filetype:pdf site:alvo.com** – Busca arquivos PDF dentro do site.  
- **inurl:admin** – Procura URLs que contenham "admin".  

Essa técnica pode revelar subdomínios, arquivos confidenciais e painéis administrativos.  


## **7. Identificação de Tecnologias Usadas na Aplicação**  
Saber quais tecnologias um site utiliza pode ajudar na busca por vulnerabilidades específicas.  
- **Verificar frameworks e bibliotecas carregadas no código-fonte.**  
- **Identificar servidor web e cabeçalhos HTTP para possíveis falhas.**  


## **8. Identificação do Banco de Dados**  
Saber qual banco de dados é utilizado pode ajudar a explorar falhas como **SQL Injection**.  
- **MySQL** e **PostgreSQL** são comuns em aplicações web.  
- **MongoDB** pode indicar uso de NoSQL Injection.  
- **Microsoft SQL Server** pode ser explorado para ataques mais específicos.  


## **9. Análise de Requisições HTTP**  
Os cabeçalhos HTTP podem revelar informações valiosas, como:  
- **Servidor e tecnologia usada.**  
- **Cookies e tokens de autenticação.**  
- **Parâmetros que aceitam entrada do usuário.**  

A análise do corpo da requisição também pode indicar falhas em mecanismos de segurança.  


## **10. Estudo sobre Cloudflare e Mecanismos de Proteção**  
Ferramentas como **Cloudflare** podem dificultar o reconhecimento web.  
- **Detectar se um site usa Cloudflare ou outro WAF (Web Application Firewall).**  
- **Buscar formas de burlar proteções usando técnicas como captura de cookies e headers válidos.**  


## **11. Captura de Requisições e Cookies para Uso com Netcat**  
Uma técnica para burlar Cloudflare e realizar requisições diretas é:  
1. Capturar a requisição original no navegador.  
2. Coletar os cookies e cabeçalhos necessários.  
3. Reproduzir a requisição via **netcat** ou outra ferramenta manualmente.  

Isso pode permitir a exploração direta da aplicação sem bloqueios por firewalls.  


## **12. SQL Injection e Verificação de Queries na Página Web**  
- Testar **parâmetros da URL** e formulários para verificar se o site é vulnerável a **SQL Injection**.  
- Observar mensagens de erro que podem revelar estrutura do banco de dados.  
- Usar payloads conhecidos para verificar falhas.  


## **13. Testes de XSS (Cross-Site Scripting)**  
XSS ocorre quando a aplicação permite a inserção de código JavaScript malicioso.  
- Testar parâmetros de entrada injetando código JavaScript.  
- Observar se o código é refletido na página sem sanitização.  
- Explorar falhas em páginas que aceitam entrada do usuário.  

---

Este guia cobre as principais técnicas para reconhecimento web em um **pentest**, permitindo mapear vulnerabilidades e identificar pontos de ataque antes de realizar explorações mais avançadas.  

---